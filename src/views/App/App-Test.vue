<template>
	<div>
		<input type="text" v-model="text">
	</div>
</template>

<script setup>
	import { ref, watch } from 'vue'

	const text = ref('')
	const changeHandler = () => {
		console.log('change. newVal:', text.value)
	}



	/** 
	 * Solution 1, 
	 * âœ… Debounces at the very first time immediately.
	 * ðŸš« debounces not at the most current value. 
	 * âœ… executes the script always, and doesn't wait until user stops inputting.
	 * */
	/*import debounce from 'just-debounce'

	const changeHandlerDebounced = debounce(changeHandler, 1000, true)

	watch(text, ( newVal, oldVal ) => {
		changeHandlerDebounced(newVal) // debounced
	})*/



	/**
	 * Solution 2
	 * âœ… Debounces at the very first time immediately.
	 * âœ… debounces at the most current value. 
	 * ðŸš« executes the script only on start and stop of user input.
	 */
	/*import debounce from 'lodash.debounce'

	watch(text, debounce(changeHandler, 300, { leading: true, trailing: true }))*/



	/**
	 * Solution 3
	 * âœ… Debounces at the very first time immediately.
	 * ðŸš« debounces not at the most current value.
	 * ðŸš« executes the script only on stop of user input.
	 */
	/*import { debounce } from 'throttle-debounce'

	watch(text, debounce(300, true, changeHandler))*/


	/**
	 * Solution 4 ðŸ¥³
	 * âœ… Debounces at the very first time immediately.
	 * âœ… debounces at the most current value. 
	 * âœ… executes the script always, and doesn't wait until user stops inputting.
	 */
	/*import { throttle } from 'throttle-debounce'

	watch(text, throttle(1000, false, changeHandler))*/
</script>